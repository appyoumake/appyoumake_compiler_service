<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: app.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: app.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
    #MLAB Compiler Service
    
    REST API for compiling Cordova apps built with MLAB. Currently supports compiling for Android and iOS.
    
    Consists of:
        app.js - This file. Starts the server and defines routes.
        functions.js - Main function module, which binds everything together
        mlabapp.js - Module containing definition of the App object. All work on the apps are done here.
        utils.js - Module with various helper functions.
        config/config.json - Config file.
        apps/ - Directory for storing apps. This can be moved elsewhere, but make sure to edit config file accordingly.
        node_modules/ - Node.js stores modules here. Don't touch.
    
    Usage:
        Run in console:
        - node app.js
        Serve as daemon:
        - pm2 start app.js
        - pm2 stop app.js
        - pm2 restart app.js
        
        Then call API:
            GET &lt;your server>/getAppStatus?
            POST &lt;your server>/createApp
            GET &lt;your server>/verifyApp?
            POST &lt;your server>/compileApp
            GET &lt;your server>/getApp?
    
    Docs:
    Node.js: https://nodejs.org/api/
    Restify: http://mcavage.me/node-restify/#server-api
    xmldoc: https://www.npmjs.com/package/xmldoc
    log4js: https://github.com/nomiddlename/log4js-node
    PM2: https://github.com/Unitech/pm2
    
    @author Author: Snapper Net Solutions
    @copyright Copyright (c) 2015
    @module Compiler Service

*/
/*
    Generate JSDoc:
    node_modules/.bin/jsdoc *.js -d doc/ -c config/jsdoc.json
*/

var server;
var restify = require("restify");

var utils = require("./utils.js");
var functions = require("./functions.js");

// Get config
var config = utils.getConfig();

// Create our server
server = restify.createServer({
    name : "mlabcompiler"
});

// Configure server
server.use(restify.queryParser());
server.use(restify.bodyParser({mapParams: true}));

// Set up paths
/**
    GET getAppStatus
*/
server.get({path: "/getAppStatus", version: "1"}, functions.getAppStatus);
/**
    POST createApp
*/
server.post({path: "/createApp", version: "1"}, functions.createApp);
/**
    GET verifyApp
*/
server.get({path: "/verifyApp", version: "1"}, functions.verifyApp);
/**
    POST compileApp
*/
server.post({path: "/compileApp", version: "1"}, functions.compileApp);
/**
    GET getApp
*/
server.get({path: "/getApp", version: "1"}, functions.getApp);


// Start listening
server.listen(config.port_number ,"localhost", function(){
    utils.log(server.name + " listening at " + server.url, utils.logLevel.info, true);
});
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-Compiler%2520Service.html">Compiler Service</a></li><li><a href="module-Functions.html">Functions</a></li><li><a href="module-MLAB%2520App.html">MLAB App</a></li><li><a href="module-Utils.html">Utils</a></li></ul><h3>Classes</h3><ul><li><a href="module-MLAB%2520App.App.html">App</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-beta3</a> on Thu May 07 2015 16:41:14 GMT+0200 (CEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
